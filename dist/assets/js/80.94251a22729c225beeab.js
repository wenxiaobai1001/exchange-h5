webpackJsonp([80],{"c6P+":function(e,t){},lDjt:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={components:{PageHeader:s("JCuE").a},data(){return{isNotVerified:!0,areas:[],formValidate:{mobile:"",vailCode2:"",password:"",country:""},time2:60,ruleValidate:{mobile:[{required:!0,message:this.$t("uc.safe.telnotip"),trigger:"blur"}],vailCode2:[{required:!0,message:this.$t("uc.safe.codetip"),trigger:"blur"}],password:[{required:!0,type:"string",min:6,message:this.$t("uc.safe.pwdmsg1"),trigger:"blur"}]},sendMsgDisabled2:!1}},watch:{},created:function(){this.getMember(),this.getAreas()},computed:{isLogin:function(){return this.$store.getters.isLogin}},methods:{getMember(){this.$http.post(this.host+"/uc/approve/security/setting").then(e=>{var t=e.body;0==t.code?this.formValidate.email=t.data.email:this.$Message.error(this.loginmsg)})},getAreas(){this.$http.post(this.host+this.api.common.area).then(e=>{var t=e.body;this.areas=t.data,this.formValidate.country=this.areas[0].zhName,this.formValidate.areaCode=this.areas[0].areaCode})},handleSubmit(e){this.$refs[e].validate(e=>{if(e){let e={};e.phone=this.formValidate.mobile,e.code=this.formValidate.vailCode2,e.password=this.formValidate.password,e.country=this.formValidate.country,this.$http.post(this.host+"/uc/approve/bind/phone",e).then(e=>{var t=e.body;0==t.code?(this.$Message.success(this.$t("uc.safe.save_success")),this.$router.push("/my")):this.$Message.error(t.message),this.getMember()})}else this.$Message.error(this.$t("uc.safe.save_failure"))})},handleReset(e){this.$refs.formValidate.resetFields()},send(){let e=this;if(this.formValidate.mobile){e.sendMsgDisabled2=!0;let t=window.setInterval(function(){e.time2--<=0&&(e.time2=60,e.sendMsgDisabled2=!1,window.clearInterval(t))},1e3);this.$http.post(this.host+"/uc/mobile/bind/code",{phone:this.formValidate.mobile,country:this.formValidate.country}).then(e=>{var t=e.body;0==t.code?this.$Message.success(t.message):this.$Message.error(t.message)})}else this.$refs.formValidate.validateField("mobile")}}},i={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page-home"},[s("PageHeader",{attrs:{isShowBack:!0,title:e.$t("uc.safe.bindphone")}}),e._v(" "),s("div",{staticClass:"page-content"},[s("div",{staticClass:"page-mobile"},[s("Form",{ref:"formValidate",staticClass:"width",attrs:{"label-position":"top",model:e.formValidate,rules:e.ruleValidate}},[s("Row",[s("FormItem",{attrs:{label:e.$t("uc.safe.country"),prop:"country"}},[s("Select",{staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{filterable:""},model:{value:e.formValidate.country,callback:function(t){e.$set(e.formValidate,"country",t)},expression:"formValidate.country"}},e._l(e.areas,function(t){return s("Option",{key:t.zhName,attrs:{value:t.zhName}},[e._v("+"+e._s(t.areaCode)+" - "+e._s(t.enName))])}),1)],1)],1),e._v(" "),s("Row",[s("FormItem",{attrs:{label:e.$t("uc.safe.phone"),prop:"mobile"}},[s("Input",{attrs:{size:"large"},model:{value:e.formValidate.mobile,callback:function(t){e.$set(e.formValidate,"mobile",t)},expression:"formValidate.mobile"}})],1)],1),e._v(" "),s("Row",[s("FormItem",{attrs:{label:e.$t("uc.safe.loginpwd"),prop:"password"}},[s("Input",{attrs:{size:"large",type:"password"},model:{value:e.formValidate.password,callback:function(t){e.$set(e.formValidate,"password",t)},expression:"formValidate.password"}})],1)],1),e._v(" "),s("Row",[s("FormItem",{attrs:{label:e.$t("uc.safe.phonecode"),prop:"vailCode2"}},[s("Input",{staticClass:"send-sms-custom",attrs:{size:"large"},model:{value:e.formValidate.vailCode2,callback:function(t){e.$set(e.formValidate,"vailCode2",t)},expression:"formValidate.vailCode2"}},[s("div",{staticClass:"timebox",attrs:{slot:"append"},slot:"append"},[s("Button",{attrs:{disabled:e.sendMsgDisabled2,type:"text"},on:{click:e.send}},[e.sendMsgDisabled2?s("span",[e._v(e._s(e.time2+e.$t("uc.safe.second")))]):e._e(),e._v(" "),e.sendMsgDisabled2?e._e():s("span",[e._v(e._s(e.$t("uc.safe.clickget")))])])],1)])],1)],1),e._v(" "),s("Row",[s("FormItem",[s("Button",{attrs:{type:"warning"},on:{click:function(t){return e.handleSubmit("formValidate")}}},[e._v(e._s(e.$t("uc.safe.save")))])],1)],1)],1)],1)])],1)},staticRenderFns:[]};var o=s("VU/8")(a,i,!1,function(e){s("c6P+")},"data-v-24e4aebf",null);t.default=o.exports}});