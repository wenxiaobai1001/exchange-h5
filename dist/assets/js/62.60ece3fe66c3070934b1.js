webpackJsonp([62],{"46Y8":function(e,t){},bxZQ:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={components:{PageHeader:s("JCuE").a},data(){return{isNotVerified:!0,time1:60,formValidate:{mail:"",vailCode:"",password:""},ruleValidate:{mail:[{required:!0,type:"email",message:this.$t("uc.safe.emailtip"),trigger:"blur"}],password:[{required:!0,message:this.$t("uc.regist.pwdtip"),trigger:"blur"}],vailCode:[{required:!0,message:this.$t("uc.safe.codetip"),trigger:"blur"}]},sendMsgDisabled1:!1}},watch:{},created:function(){this.getMember()},computed:{isLogin:function(){return this.$store.getters.isLogin}},methods:{getMember(){this.$http.post(this.host+"/uc/approve/security/setting").then(e=>{var t=e.body;0==t.code?this.formValidate.mail=t.data.email:this.$Message.error(this.loginmsg)})},handleSubmit(e){this.$refs[e].validate(e=>{if(e){let e={};e.email=this.formValidate.mail,e.code=this.formValidate.vailCode,e.password=this.formValidate.password,this.$http.post(this.host+"/uc/approve/bind/email",e).then(e=>{var t=e.body;0==t.code?(this.$Message.success(this.$t("uc.safe.save_success")),this.$router.push("/my")):this.$Message.error(t.message),this.getMember()})}else this.$Message.error(this.$t("uc.safe.save_failure"))})},send(){let e=this;if(this.formValidate.mail){e.sendMsgDisabled1=!0;let t=window.setInterval(function(){e.time1--<=0&&(e.time1=60,e.sendMsgDisabled1=!1,window.clearInterval(t))},1e3);this.$http.post(this.host+"/uc/bind/email/code",{email:this.formValidate.mail}).then(t=>{var s=t.body;0==s.code?e.$Message.success(s.message):e.$Message.error(s.message)})}else this.$refs.formValidate.validateField("mail")},handleReset(e){this.$refs.formValidate.resetFields()}}},i={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page-home"},[s("PageHeader",{attrs:{isShowBack:!0,title:e.$t("uc.safe.bindemail")}}),e._v(" "),s("div",{staticClass:"page-content"},[s("div",{staticClass:"page-email"},[s("Form",{ref:"formValidate",attrs:{"label-position":"top",model:e.formValidate,rules:e.ruleValidate}},[s("Row",[s("FormItem",{attrs:{label:e.$t("uc.safe.email"),prop:"mail"}},[s("Input",{attrs:{size:"large"},model:{value:e.formValidate.mail,callback:function(t){e.$set(e.formValidate,"mail",t)},expression:"formValidate.mail"}})],1)],1),e._v(" "),s("Row",[s("FormItem",{attrs:{label:e.$t("uc.safe.loginpwd"),prop:"password"}},[s("Input",{attrs:{size:"large",type:"password"},model:{value:e.formValidate.password,callback:function(t){e.$set(e.formValidate,"password",t)},expression:"formValidate.password"}})],1)],1),e._v(" "),s("Row",[s("FormItem",{attrs:{label:e.$t("uc.safe.emailcode"),prop:"vailCode"}},[s("Input",{staticClass:"send-sms-custom",attrs:{size:"large"},model:{value:e.formValidate.vailCode,callback:function(t){e.$set(e.formValidate,"vailCode",t)},expression:"formValidate.vailCode"}},[s("div",{staticClass:"timebox",attrs:{slot:"append"},slot:"append"},[s("Button",{attrs:{disabled:e.sendMsgDisabled1,type:"text"},on:{click:e.send}},[e.sendMsgDisabled1?s("span",[e._v(e._s(e.time1+e.$t("uc.safe.second")))]):e._e(),e._v(" "),e.sendMsgDisabled1?e._e():s("span",[e._v(e._s(e.$t("uc.safe.clickget")))])])],1)])],1)],1),e._v(" "),s("Row",[s("FormItem",[s("Button",{attrs:{type:"warning"},on:{click:function(t){return e.handleSubmit("formValidate")}}},[e._v(e._s(e.$t("uc.safe.save")))])],1)],1)],1)],1)])],1)},staticRenderFns:[]};var r=s("VU/8")(a,i,!1,function(e){s("46Y8")},"data-v-6d8fd208",null);t.default=r.exports}});