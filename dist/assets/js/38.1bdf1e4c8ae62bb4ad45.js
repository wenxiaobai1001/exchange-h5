webpackJsonp([38],{I341:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={data:()=>({row:{}}),props:{skin:String,rows:Object},created(){this.rows.sturnover=this.toFloor(this.rows.sturnover),this.rows.tradedAmount=this.toFloor(this.rows.tradedAmount),this.rows.time=this.dateFormat(this.rows.time)}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"expand-detail"},[a("Row",{staticClass:"expand-row",class:t.skin},[a("Col",{attrs:{span:"12"}},[a("span",{staticClass:"expand-key"},[t._v(t._s(t.$t("exchange.time"))+": ")]),a("br"),t._v(" "),a("span",{staticClass:"expand-value"},[t._v(t._s(t.rows.time))])]),t._v(" "),a("Col",{attrs:{span:"12"}},[a("span",{staticClass:"expand-key"},[t._v(t._s(t.$t("uc.finance.trade.type"))+": ")]),t._v(" "),a("span",{staticClass:"expand-value"},[t._v(t._s("LIMIT_PRICE"==t.rows.type?t.$t("exchange.limited_price"):t.$t("exchange.market_price")))])])],1),t._v(" "),a("Row",{staticClass:"expand-row",class:t.skin},[a("Col",{attrs:{span:"12"}},[a("span",{staticClass:"expand-key"},[t._v(t._s(t.$t("exchange.direction"))+": ")]),a("br"),t._v(" "),a("span",{staticClass:"expand-value",class:{buy:"BUY"==t.rows.direction,sell:"BUY"!=t.rows.direction}},[t._v(t._s("BUY"==t.rows.direction?t.$t("exchange.buyin"):t.$t("exchange.sellout")))])]),t._v(" "),a("Col",{attrs:{span:"12"}},[a("span",{staticClass:"expand-key"},[t._v(t._s(t.$t("exchange.price"))+": ")]),a("br"),t._v(" "),a("span",{staticClass:"expand-value"},[t._v(t._s(t.rows.price))])])],1),t._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("span",{staticClass:"expand-key"},[t._v(t._s(t.$t("exchange.num"))+": ")]),a("br"),t._v(" "),a("span",{staticClass:"expand-value"},[t._v(t._s(t.rows.amount))])]),t._v(" "),a("Col",{attrs:{span:"12"}},[a("span",{staticClass:"expand-key"},[t._v(t._s(t.$t("exchange.done"))+": ")]),a("br"),t._v(" "),a("span",{staticClass:"expand-value"},[t._v(t._s(t.rows.tradedAmount))])])],1)],1)},staticRenderFns:[]};var i=a("VU/8")(s,n,!1,function(t){a("xODG")},"data-v-74b2f215",null).exports,r=a("JCuE"),o=a("PJh5"),l={components:{expandRow:i,PageHeader:r.a},data(){const t=this;return{loading:!1,pageSize:10,pageNo:1,total:10,symbol:[],formItem:{symbol:"",type:"",direction:"",date:"",startTime:"",endTime:""},columns:[{type:"expand",width:40,height:40,render:(t,e)=>t(i,{props:{skin:e.row.skin,rows:e.row}})},{title:t.$t("uc.finance.trade.symbol"),width:110,key:"symbol"},{title:t.$t("uc.finance.trade.turnover"),key:"turnover",render:(e,a)=>e("span",{attrs:{title:a.row.turnover}},t.toFloor(a.row.turnover))},{title:t.$t("exchange.status"),key:"status",render:(e,a)=>{const s=a.row.status;return"COMPLETED"==s?e("span",{style:{color:"#f0a70a"}},t.$t("exchange.finished")):"CANCELED"==s?e("span",{style:{color:"#f0a70a"}},t.$t("exchange.canceled")):e("span",{},"--")}}],orders:[]}},computed:{lang:function(){return this.$store.state.lang}},watch:{lang:function(){this.updateLangData()}},created(){this.getHistoryOrder(),this.getSymbol()},methods:{dateFormat:function(t){return o(t).format("YYYY-MM-DD HH:mm:ss")},loadDataPage(t){this.pageNo=t,this.getHistoryOrder()},handleSubmit(){this.pageNo=1,this.getHistoryOrder()},handleClear(){this.formItem={symbol:"",type:"",direction:"",date:"",startTime:"",endTime:""}},getHistoryOrder(){this.loading=!0;const{symbol:t,type:e,direction:a,date:s}=this.formItem;let n=new Date(this.startTime).getTime()||"",i=new Date(this.endTime).getTime()||"",r={};t&&(r.symbol=t),a&&(r.direction=a),e&&(r.type=e),n&&(r.startTime=n),i&&(r.endTime=i),r.pageNo=this.pageNo,r.pageSize=this.pageSize;var o=this;this.orders=[],this.$http.post(this.host+"/exchange/order/personal/history",r).then(t=>{var e=t.body;let a=[];if(e.content.length>0){this.total=e.totalElements;for(var s=0;s<e.content.length;s++){var n=e.content[s];n.price="MARKET_PRICE"==n.type?o.$t("exchange.marketprice"):n.price,a.push(n)}this.orders=a}this.loading=!1})},getSymbol(){this.$http.post(this.host+this.api.market.thumb,{}).then(t=>{var e=t.body;e.length>0&&(this.symbol=e)})},updateLangData(){this.columns[1].title=this.$t("exchange.time"),this.columns[2].title=this.$t("uc.finance.trade.symbol"),this.columns[3].title=this.$t("uc.finance.trade.type"),this.columns[4].title=this.$t("exchange.direction"),this.columns[5].title=this.$t("exchange.price"),this.columns[6].title=this.$t("exchange.num"),this.columns[7].title=this.$t("exchange.traded"),this.columns[8].title=this.$t("uc.finance.trade.turnover"),this.columns[9].title=this.$t("exchange.status")}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-home"},[a("PageHeader",{attrs:{title:t.$t("uc.member.hisdelegate")}}),t._v(" "),a("div",{staticClass:"page-content"},[a("div",{staticClass:"entrusthistory"},[a("Form",{staticClass:"form",attrs:{model:t.formItem,"label-width":85,inline:""}},[a("div",{staticClass:"daterange",staticStyle:{"text-align":"left"}},[a("FormItem",{attrs:{label:t.$t("uc.finance.trade.start_end")}},[a("DatePicker",{staticStyle:{width:"180px"},attrs:{type:"date"},model:{value:t.formItem.startTime,callback:function(e){t.$set(t.formItem,"startTime",e)},expression:"formItem.startTime"}})],1),t._v(" "),a("FormItem",[a("DatePicker",{staticStyle:{width:"180px"},attrs:{type:"date"},model:{value:t.formItem.endTime,callback:function(e){t.$set(t.formItem,"endTime",e)},expression:"formItem.endTime"}})],1)],1),t._v(" "),a("div",{staticStyle:{"text-align":"left"}},[a("FormItem",{attrs:{label:t.$t("uc.finance.trade.symbol")}},[a("Select",{staticStyle:{width:"180px"},attrs:{placeholder:t.$t("common.pleaseselect")},model:{value:t.formItem.symbol,callback:function(e){t.$set(t.formItem,"symbol",e)},expression:"formItem.symbol"}},t._l(t.symbol,function(e,s){return a("Option",{key:s,attrs:{value:e.symbol}},[t._v(t._s(e.symbol))])}),1)],1)],1),t._v(" "),a("div",{staticStyle:{"text-align":"left"}},[a("FormItem",{attrs:{label:t.$t("uc.finance.trade.type")}},[a("Select",{staticStyle:{width:"180px"},attrs:{placeholder:t.$t("common.pleaseselect")},model:{value:t.formItem.type,callback:function(e){t.$set(t.formItem,"type",e)},expression:"formItem.type"}},[a("Option",{attrs:{value:"LIMIT_PRICE"}},[t._v(t._s(t.$t("uc.finance.trade.limit")))]),t._v(" "),a("Option",{attrs:{value:"MARKET_PRICE"}},[t._v(t._s(t.$t("uc.finance.trade.market")))])],1)],1),t._v(" "),a("FormItem",{attrs:{label:t.$t("uc.finance.trade.direction")}},[a("Select",{staticStyle:{width:"180px"},attrs:{placeholder:t.$t("common.pleaseselect")},model:{value:t.formItem.direction,callback:function(e){t.$set(t.formItem,"direction",e)},expression:"formItem.direction"}},[a("Option",{attrs:{value:"0"}},[t._v(t._s(t.$t("uc.finance.trade.buy")))]),t._v(" "),a("Option",{attrs:{value:"1"}},[t._v(t._s(t.$t("uc.finance.trade.sell")))])],1)],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"warning"},on:{click:t.handleSubmit}},[t._v(t._s(t.$t("uc.finance.trade.search")))]),t._v(" "),a("Button",{staticClass:"clear_btn",staticStyle:{"margin-left":"8px"},on:{click:t.handleClear}},[t._v("Clear")])],1)],1)]),t._v(" "),a("div",{staticClass:"table"},[a("Table",{attrs:{"no-data-text":t.$t("common.nodata"),columns:t.columns,data:t.orders,loading:t.loading}}),t._v(" "),a("div",{staticClass:"page"},[a("Page",{attrs:{total:t.total,pageSize:t.pageSize,current:t.pageNo},on:{"on-change":t.loadDataPage}})],1)],1)],1)])],1)},staticRenderFns:[]};var d=a("VU/8")(l,c,!1,function(t){a("cGqb")},"data-v-ed2110be",null);e.default=d.exports},cGqb:function(t,e){},xODG:function(t,e){}});