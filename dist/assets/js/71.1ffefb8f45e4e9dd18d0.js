webpackJsonp([71],{XMUA:function(t,e){},nGV4:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=/^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/;var o={data(){return{codedisabled:!1,sendcodeValue:this.$t("uc.regist.sendcode"),captchaObj:null,modal1:!1,_captchaResult:null,buttonLists:[{text:this.$t("uc.forget.resettelpwd")},{text:this.$t("uc.forget.resetemailpwd")}],changeActive:0,countdown:60,formInline:{user:"",code:"",password:"",repassword:""},ruleInline:{code:[{required:!0,message:"Please input verify code",trigger:"blur"}],password:[{required:!0,message:this.$t("uc.forget.newpwdtip"),trigger:"blur"},{type:"string",min:6,message:this.$t("uc.forget.pwdvalidate3"),trigger:"blur"}],repassword:[{validator:(t,e,s)=>{""===e?s(new Error(this.$t("uc.forget.pwdvalidate1"))):e!==this.formInline.password?s(new Error(this.$t("uc.forget.pwdvalidate2"))):s()},trigger:"blur"},{type:"string",min:6,message:this.$t("uc.forget.pwdvalidate3"),trigger:"blur"}]},key:"",code:""}},watch:{changeActive:function(t){this.$refs.formInline.resetFields()}},created:function(){this.init()},computed:{isLogin:function(){return this.$store.getters.isLogin}},methods:{handleReset(t){this.$refs.formInline.resetFields()},init(){this.isLogin?this.$router.push("/"):this.$store.state.HeaderActiveName="1-4"},sendSMS(){this.afterValidate()},afterValidate(){var t;(this.modal1=!1,this.formInline.user)?(this.settime(),i.test(this.formInline.user)?((t={}).account=this.formInline.user,this.$http.post(this.host+"/uc/reset/email/code",t).then(t=>{this.countdown=60;var e=t.body;0==e.code?this.$Notice.success({title:this.$t("common.tip"),desc:e.message}):this.$Notice.error({title:this.$t("common.tip"),desc:e.message})})):((t={}).account=this.formInline.user,this.$http.post(this.host+"/uc/mobile/reset/code",t).then(t=>{var e=t.body;0==e.code?this.$Notice.success({title:this.$t("common.tip"),desc:e.message}):this.$Notice.error({title:this.$t("common.tip"),desc:e.message})}))):this.$Notice.error({title:this.$t("common.tip"),desc:"Please input phone number or email"})},handleSubmit(t){this.$refs[t].validate(t=>{var e;t&&(i.test(this.formInline.user)?((e={}).account=this.formInline.user,e.code=this.formInline.code,e.mode=1,e.password=this.formInline.password,this.$http.post(this.host+"/uc/reset/login/password",e).then(t=>{this.countdown=60;var e=t.body;0==e.code?(this.$Notice.success({title:this.$t("common.tip"),desc:e.message}),this.$router.push("/login")):this.$Notice.error({title:this.$t("common.tip"),desc:e.message})})):((e={}).account=this.formInline.user,e.code=this.formInline.code,e.mode=0,e.password=this.formInline.password,this.$http.post(this.host+"/uc/reset/login/password",e).then(t=>{var e=t.body;0==e.code?(this.$Notice.success({title:this.$t("common.tip"),desc:"Reset successful"}),this.$router.push("/login")):this.$Notice.error({title:this.$t("common.tip"),desc:e.message})})))})},settime(){this.sendcodeValue=this.countdown,this.codedisabled=!0;let t=setInterval(()=>{this.countdown--,this.sendcodeValue=this.countdown,this.countdown<=0&&(clearInterval(t),this.codedisabled=!1,this.sendcodeValue=this.$t("uc.regist.sendcode"),this.countdown=60)},1e3)}}},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"login_form"},[i("Form",{ref:"formInline",staticClass:"login_form_content",attrs:{model:t.formInline,rules:t.ruleInline,inline:""}},[i("div",{staticClass:"logo"},[i("img",{attrs:{src:s("JO++")}})]),t._v(" "),i("div",{staticClass:"login_title"},[t._v(t._s(t.$t("uc.forget.title")))]),t._v(" "),i("FormItem",{staticStyle:{width:"100%"},attrs:{prop:"user"}},[i("Input",{attrs:{type:"text",size:"large",placeholder:t.$t("uc.login.usertip")},model:{value:t.formInline.user,callback:function(e){t.$set(t.formInline,"user",e)},expression:"formInline.user"}})],1),t._v(" "),i("FormItem",{staticClass:"login-form-user code",staticStyle:{width:"100%"},attrs:{prop:"code"}},[i("Input",{attrs:{type:"text",size:"large",placeholder:t.$t("uc.forget.smscode")},model:{value:t.formInline.code,callback:function(e){t.$set(t.formInline,"code",e)},expression:"formInline.code"}},[i("input",{staticClass:"send-code",staticStyle:{width:"100px"},attrs:{slot:"append",type:"Button",id:"sendCode",disabled:t.codedisabled},domProps:{value:t.sendcodeValue},on:{click:function(e){return t.sendSMS()}},slot:"append"})])],1),t._v(" "),i("FormItem",{staticClass:"password",staticStyle:{width:"100%"},attrs:{prop:"password"}},[i("Input",{attrs:{type:"password",size:"large",placeholder:t.$t("uc.forget.newpwd")},model:{value:t.formInline.password,callback:function(e){t.$set(t.formInline,"password",e)},expression:"formInline.password"}})],1),t._v(" "),i("FormItem",{staticClass:"password",staticStyle:{width:"100%"},attrs:{prop:"repassword"}},[i("Input",{attrs:{type:"password",placeholder:t.$t("uc.forget.confirmpwd")},model:{value:t.formInline.repassword,callback:function(e){t.$set(t.formInline,"repassword",e)},expression:"formInline.repassword"}})],1),t._v(" "),i("div",{staticClass:"pwd-btn"},[i("Button",{attrs:{type:"warning"},on:{click:function(e){return t.handleSubmit("formInline")}}},[t._v(t._s(t.$t("uc.forget.save")))])],1),t._v(" "),i("div",{staticClass:"to_register",staticStyle:{"font-size":"14px"}},[i("router-link",{attrs:{to:"/login"}},[t._v(t._s(t.$t("uc.login.login")))])],1)],1),t._v(" "),i("Modal",{attrs:{"mask-closable":!1},model:{value:t.modal1,callback:function(e){t.modal1=e},expression:"modal1"}},[i("p",{staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.$t("uc.regist.modaltitle")))]),t._v(" "),i("div",{staticStyle:{"text-align":"center"}},[i("div",[i("div",{attrs:{id:"captcha"}},[i("p",{staticClass:"show",attrs:{id:"wait"}},[t._v(t._s(t.$t("uc.login.validatecodeload"))+"......")])])]),t._v(" "),i("p",{staticClass:"hide",attrs:{id:"notice"}},[t._v(t._s(t.$t("uc.login.validatemsg")))])]),t._v(" "),i("p",{attrs:{slot:"footer"},slot:"footer"})])],1)},staticRenderFns:[]};var n=s("VU/8")(o,r,!1,function(t){s("XMUA")},"data-v-47038e3e",null);e.default=n.exports}});