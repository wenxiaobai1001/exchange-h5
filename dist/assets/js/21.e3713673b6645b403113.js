webpackJsonp([21],{Elvm:function(t,e){},sv35:function(t,e){},w8Pp:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("97sG"),a=i("PJh5"),n={components:{expandRow:s.a},data:()=>({modal:!1,currentType:1,baseCoinUnit:"USDT",customAmount:1500,inputAmount:"",tableMoney:[],assetUsdt:0,assetBtc:0,assetEth:0,totalPayment:0,rateData:{},usdtRate:0,btcRate:0,ethRate:0,totalSupply:0,nextIssuePrice:0}),created:function(){this.init()},filters:{dateFormat:function(t){return a(t).format("YYYY-MM-DD HH:mm:ss")},fixedScale:function(t,e){return t.toFixed(e)},fixed8:function(t){return t.toFixed(8)}},mounted(){},computed:{lang(){return this.$store.state.lang},langPram(){return this.$store.state.lang},isLogin:function(){return this.$store.getters.isLogin},currentPriceShow:function(){return"USDT"==this.baseCoinUnit?(1/this.usdtRate).toFixed(2):"BTC"==this.baseCoinUnit?(1/this.btcRate).toFixed(8):"ETH"==this.baseCoinUnit?(1/this.ethRate).toFixed(8):void 0},nextPriceShow:function(){return"USDT"==this.baseCoinUnit?(1/this.rateData.nextUsdtRate).toFixed(2):"BTC"==this.baseCoinUnit?(1/this.rateData.nextBtcRate).toFixed(8):"ETH"==this.baseCoinUnit?(1/this.rateData.nextEthRate).toFixed(8):void 0},totalPaymentShow:function(){return 5!=this.currentType?this.customAmount*this.currentPriceShow:this.inputAmount*this.currentPriceShow}},methods:{init(){this.$store.commit("navigate","nav-cexchange"),this.isLogin&&this.getAssets(),this.getRate()},selectCount(t,e){5!=e&&(this.customAmount=t,this.inputAmount=""),this.currentType=e},getRate(){this.$http.post(this.host+this.api.market.thumb,{}).then(t=>{for(var e=t.body,i=0,s=0,a=0,n=0;n<e.length;n++){var c=e[n];"BTC/USDT"==c.symbol&&(i=c.close),"ETH/USDT"==c.symbol&&(s=c.close),"CDEA/USDT"==c.symbol&&(a=c.close)}this.usdtRate=(1/a).toFixed(8),this.btcRate=(i/a).toFixed(8),this.ethRate=(s/a).toFixed(8)})},getAssets(){this.$http.post(this.host+this.api.uc.mywallet,{},{emulateJSON:!1,headers:{"Content-Type":"application/json;charset=utf-8"}}).then(t=>{var e=t.body;if(0==e.code){this.tableMoney=e.data;for(let t=0;t<this.tableMoney.length;t++)"USDT"==this.tableMoney[t].coin.unit&&(this.assetUsdt=this.tableMoney[t].balance),"BTC"==this.tableMoney[t].coin.unit&&(this.assetBtc=this.tableMoney[t].balance),"ETH"==this.tableMoney[t].coin.unit&&(this.assetEth=this.tableMoney[t].balance),this.tableMoney[t].coin.unit==this.platformCoin&&(this.totalSupply=this.tableMoney[t].balance)}else this.$Message.error(this.loginmsg)})},allBy(t){this.isLogin||this.$Message.error("Please log in first！"),0==t?(this.baseCoinUnit="USDT",this.currentType=5,this.inputAmount=(this.usdtRate*this.assetUsdt).toFixed(2),this.totalPayment=this.assetUsdt):1==t?(this.baseCoinUnit="BTC",this.currentType=5,this.inputAmount=(this.btcRate*this.assetBtc).toFixed(2),this.totalPayment=this.assetBtc):2==t&&(this.baseCoinUnit="ETH",this.currentType=5,this.inputAmount=(this.ethRate*this.assetEth).toFixed(2),this.totalPayment=this.assetEth)},confirm(){(5!=this.currentType?this.customAmount:this.inputAmount)<=0?this.$Message.error("The amount must > 0"):this.modal=!0},cancel(){this.modal=!1},submit(){this.modal=!1;var t=this;let e={};if(e.baseUnit=this.baseCoinUnit,5!=this.currentType?e.amount=this.customAmount:e.amount=this.inputAmount,e.amount<=0)this.$Message.error("The amount must > 0");else{var i=0;"USDT"==this.baseCoinUnit?i=this.usdtRate:"BTC"==this.baseCoinUnit?i=this.btcRate:"ETH"==this.baseCoinUnit&&(i=this.ethRate),e.price=i,this.$Spin.show(),this.$http.post(this.host+"/uc/cexchange/do-exchange",e).then(e=>{var i=e.body;0==i.code?this.$Notice.success({title:t.$t("cexchange.success"),desc:i.message}):this.$Notice.error({title:t.$t("cexchange.tip"),desc:i.message}),this.$Spin.hide()})}}}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cexchange"},[s("img",{staticClass:"bannerimg",attrs:{src:i("xe0Y")}}),t._v(" "),s("div",{staticClass:"ctc_container"},[s("h1",[t._v(t._s(t.$t("cexchange.desc")))]),t._v(" "),s("div",{staticClass:"main"},[s("Tabs",{staticStyle:{width:"100%"},attrs:{animated:!1}},[s("TabPane",{attrs:{label:t.$t("cexchange.title"),name:"all"}},[s("div",{staticClass:"ctc-container"},[s("div",{staticClass:"trade_wrap"},[s("div",{staticClass:"trade_panel"},[s("div",{staticClass:"trade_bd_ctc"},[s("div",{staticClass:"panel panel_buy"},[s("div",{staticClass:"bd bd_limited"},[s("div",{staticStyle:{"min-height":"65px",width:"100%","margin-bottom":"20px",padding:"5px","border-radius":"5px",background:"#0b1520"}},[s("div",{staticStyle:{width:"50%",float:"left"}},[s("h3",[t._v(t._s(t.totalSupply)+" CDEA")]),t._v(" "),s("p",[t._v(t._s(t.$t("cexchange.restricted")))])]),t._v(" "),s("div",{staticStyle:{width:"50%",float:"left"}},[s("h3",[t._v("1 CDEA ≈ "+t._s(t.currentPriceShow)+" "+t._s(t.baseCoinUnit))]),t._v(" "),s("p",[t._v(t._s(t.$t("cexchange.currentprice")))])])]),t._v(" "),s("Form",{staticClass:"cexchange-trade",staticStyle:{width:"100%"}},[s("FormItem",{staticClass:"buy-input"},[s("div",{staticClass:"before",staticStyle:{width:"180px","text-align":"left","font-size":"14px"}},[t._v(t._s(t.$t("cexchange.quantity"))+":")]),t._v(" "),s("div",{staticClass:"quantity-group"},[s("div",{staticClass:"quantity-group-sub"},[s("div",{class:{"quantity-item":!0,current:1==t.currentType},on:{click:function(e){return t.selectCount(1500,1)}}},[t._v(" 1500 CDEA ")]),t._v(" "),s("div",{class:{"quantity-item":!0,current:2==t.currentType},on:{click:function(e){return t.selectCount(1e3,2)}}},[t._v("1000 CDEA ")]),t._v(" "),s("div",{class:{"quantity-item":!0,current:3==t.currentType},on:{click:function(e){return t.selectCount(500,3)}}},[t._v("500 CDEA ")]),t._v(" "),s("div",{class:{"quantity-item":!0,current:4==t.currentType},on:{click:function(e){return t.selectCount(150,4)}}},[t._v("150 CDEA ")])]),t._v(" "),s("div",{staticStyle:{float:"left","margin-top":"30px","margin-left":"20px"},on:{click:function(e){return t.selectCount(0,5)}}},[s("Input",{staticStyle:{width:"200px"},attrs:{size:"large",placeholder:t.$t("cexchange.inputtips1")},model:{value:t.inputAmount,callback:function(e){t.inputAmount=e},expression:"inputAmount"}})],1)])]),t._v(" "),s("FormItem",{staticClass:"trade-input"},[s("div",{staticClass:"before",staticStyle:{width:"180px","text-align":"left","font-size":"14px"}},[t._v(t._s(t.$t("cexchange.choosecurrency"))+":")]),t._v(" "),s("RadioGroup",{model:{value:t.baseCoinUnit,callback:function(e){t.baseCoinUnit=e},expression:"baseCoinUnit"}},[s("div",[s("Radio",{staticStyle:{"margin-bottom":"10px"},attrs:{label:"USDT"}},[s("span",{staticStyle:{width:"40px",display:"inline-block","font-size":"14px"}},[t._v("USDT")]),t._v(" "),s("Input",{staticStyle:{width:"180px"},attrs:{disabled:"",placeholder:t.$t("cexchange.assets")+t.assetUsdt}}),t._v(" "),s("Button",{staticStyle:{width:"60px","margin-left":"10px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.allBy(0)}}},[t._v(t._s(t.$t("cexchange.all")))]),t._v(" "),s("br"),t._v(" "),s("span",{staticStyle:{"margin-left":"20px"}},[t._v("1 USDT ≈ "+t._s(t.usdtRate)+" CDEA ")])],1),s("br")],1),t._v(" "),s("div",[s("Radio",{staticStyle:{"margin-bottom":"10px"},attrs:{label:"BTC"}},[s("span",{staticStyle:{width:"40px",display:"inline-block","font-size":"14px"}},[t._v("BTC")]),t._v(" "),s("Input",{staticStyle:{width:"180px"},attrs:{disabled:"",placeholder:t.$t("cexchange.assets")+t.assetBtc}}),t._v(" "),s("Button",{staticStyle:{width:"60px","margin-left":"10px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.allBy(1)}}},[t._v(t._s(t.$t("cexchange.all")))]),t._v(" "),s("br"),t._v(" "),s("span",{staticStyle:{"margin-left":"20px"}},[t._v("1 BTC ≈ "+t._s(t.btcRate)+" CDEA ")])],1),s("br")],1),t._v(" "),s("div",[s("Radio",{attrs:{label:"ETH"}},[s("span",{staticStyle:{width:"40px",display:"inline-block","font-size":"14px"}},[t._v("ETH")]),t._v(" "),s("Input",{staticStyle:{width:"180px"},attrs:{disabled:"",placeholder:t.$t("cexchange.assets")+t.assetEth}}),t._v(" "),s("Button",{staticStyle:{width:"60px","margin-left":"10px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.allBy(2)}}},[t._v(t._s(t.$t("cexchange.all")))]),t._v(" "),s("br"),t._v(" "),s("span",{staticStyle:{"margin-left":"20px"}},[t._v("1 ETH ≈ "+t._s(t.ethRate)+" CDEA ")])],1),s("br")],1)])],1),t._v(" "),s("FormItem",[s("div",{staticClass:"before",staticStyle:{width:"180px","text-align":"left","font-size":"14px"}},[t._v(t._s(t.$t("cexchange.totalpay"))+":")]),t._v(" "),s("div",{staticStyle:{"text-align":"left","font-size":"26px","font-weight":"bold",color:"#dc8e00"}},[t._v(t._s(t._f("fixed8")(t.totalPaymentShow)))])]),t._v(" "),s("FormItem",{staticClass:"exchange-btn",staticStyle:{"margin-top":"40px"}},[t.isLogin?s("Button",{attrs:{size:"large",type:"primary"},on:{click:function(e){return t.confirm()}}},[t._v(t._s(t.$t("cexchange.confirmpay")))]):s("Button",{attrs:{size:"large",type:"default"}},[t._v(t._s(t.$t("cexchange.loginFirst")))])],1)],1)],1)])]),t._v(" "),s("div")])])])])],1)],1)]),t._v(" "),s("Modal",{attrs:{width:"450"},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[s("p",{attrs:{slot:"header"},slot:"header"},[t._v("\n      "+t._s(t.$t("cexchange.confirm"))+"\n    ")]),t._v(" "),s("p",[t._v(t._s(t.$t("cexchange.confirmmsg")))]),t._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("span",{staticStyle:{background:"#f0ac19",color:"#fff",width:"80px","border-radius":"30px",display:"inline-block","text-align":"center",height:"30px","line-height":"30px"},on:{click:function(e){return t.submit()}}},[t._v(t._s(t.$t("cexchange.ok")))])])])],1)},staticRenderFns:[]};var o=i("VU/8")(n,c,!1,function(t){i("Elvm"),i("sv35")},"data-v-72bc01b5",null);e.default=o.exports},xe0Y:function(t,e,i){t.exports=i.p+"assets/img/ctc-bg.739b630.jpg"}});