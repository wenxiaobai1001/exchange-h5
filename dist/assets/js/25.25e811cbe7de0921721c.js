webpackJsonp([25],{"2NuD":function(t,e){},HNRI:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("o6sg"),a=s("JCuE"),r={components:{expandRow:i.a,PageHeader:a.a},data(){return{user:{},codeIsSending:!1,sendcodeValue:this.$t("uc.regist.sendcode"),countdown:60,coinTitle:"",formInline:{code:"",fundpwd:""},modal:!1,fundpwd:"",currentCoin:{},transaction:{page:0,pageSize:10,total:0},loading:!0,withdrawAdress:"",inputAddress:"",withdrawAmount:0,withdrawFee:0,withdrawStep:1e-4,withdrawOutAmount:0,coinType:"",coinList:[],tableWithdraw:[],allTableWithdraw:[]}},watch:{currentCoin:function(){this.withdrawFee=this.currentCoin.minTxFee,this.withdrawStep=(this.currentCoin.maxTxFee-this.currentCoin.minTxFee)/Math.pow(10,this.currentCoin.withdrawScale)}},methods:{cancel(){this.modal=!1,this.formInline.code="",this.formInline.fundpwd=""},sendCode(){this.settime(),this.$http.post(this.host+"/uc/withdraw/email/code").then(t=>{var e=t.body;0==e.code?this.$Notice.success({title:this.$t("common.tip"),desc:e.message}):this.$Notice.error({title:this.$t("common.tip"),desc:e.message})})},settime(){this.sendcodeValue=this.countdown,this.codeIsSending=!0;let t=setInterval(()=>{this.countdown--,this.sendcodeValue=this.countdown,this.countdown<=0&&(clearInterval(t),this.sendcodeValue=this.$t("uc.regist.sendcode"),this.countdown=60,this.codeIsSending=!1)},1e3)},changePage(t){this.transaction.page=t-1},onAddressChange(t){this.inputAddress=t},clearValues(){this.$refs.address&&this.$refs.address.setQuery(" "),this.withdrawAdress="",this.inputAddress="",this.withdrawAmount=0,this.withdrawOutAmount=0},getCurrentCoinRecharge(){if(""!=this.coinType){for(var t=[],e=0;e<this.allTableWithdraw.length;e++)this.allTableWithdraw[e].coin.unit==this.coinType&&t.push(this.allTableWithdraw[e]);this.tableWithdraw=t}else this.tableWithdraw=this.allTableWithdraw},ok(){if(""==this.formInline.code)return this.modal=!0,void this.$Message.error("Please input message code!");if(""==this.formInline.fundpwd)return this.modal=!0,void this.$Message.error(this.$t("otc.chat.msg7tip"));let t={};for(let e=0;e<this.currentCoin.addresses;e++)this.currentCoin.addresses[e].address==this.withdrawAdress&&(t.remark=this.currentCoin.addresses[e].remark);t.unit=this.coinType,t.address=this.withdrawAdress,t.amount=this.withdrawAmount,t.fee=this.withdrawFee,t.jyPassword=this.formInline.fundpwd,t.code=this.formInline.code,this.$http.post(this.host+"/uc/withdraw/apply/codeNew",t).then(t=>{this.fundpwd="";var e=t.body;0==e.code?(this.modal=!1,this.formInline.code="",this.formInline.fundpwd="",this.transaction.page=0,this.clearValues(),this.$Message.success(e.message)):this.$Message.error(e.message)})},getAddrList(){this.clearValues(),this.$http.post(this.host+"/uc/withdraw/support/coin/info").then(t=>{let e=t.body;if(0==e.code&&e.data.length>0){this.coinList=e.data;let t=this.coinType;"EUSDT"!=t&&"TUSDT"!=t||(t="USDT");let s=[],i=[];if(t){for(let a=0;a<e.data.length;a++)"EUSDT"==e.data[a].unit?s=e.data[a].addresses:"TUSDT"==e.data[a].unit&&(i=e.data[a].addresses),e.data[a].unit==t&&(this.currentCoin=e.data[a]);"EUSDT"==this.coinType?this.currentCoin.addresses=s:"TUSDT"==this.coinType&&(this.currentCoin.addresses=i)}else history.go(-1)}else this.$Message.error(e.message)})},accSub(t,e){var s,i,a;try{s=t.toString().split(".")[1].length}catch(t){s=0}try{i=e.toString().split(".")[1].length}catch(t){i=0}return((t*(a=Math.pow(10,Math.max(s,i)))-e*a)/a).toFixed(s>=i?s:i)},round(t,e){for(var s=1;e>0;s*=10,e--);for(;e<0;s/=10,e++);return Math.round(t*s)/s},roundDecimal:(t,e)=>Math.round(t*Math.pow(10,e))/Math.pow(10,e),computerAmount(){this.withdrawFee>this.currentCoin.maxTxFee&&(this.withdrawFee=this.currentCoin.maxTxFee),this.withdrawFee<this.currentCoin.minTxFee&&(this.withdrawFee=this.currentCoin.minTxFee),this.withdrawAmount<this.currentCoin.minAmount&&(this.withdrawAmount=this.currentCoin.minAmount),this.withdrawAmount>this.currentCoin.maxAmount&&(this.withdrawAmount=this.currentCoin.maxAmount),this.withdrawFee=this.roundDecimal(this.withdrawFee,this.currentCoin.withdrawScale||4),console.log("this.currentCoin.withdrawScale",this.currentCoin.withdrawScale),this.withdrawOutAmount=this.round(this.accSub(this.withdrawAmount,this.withdrawFee),this.currentCoin.withdrawScale)},computerAmount2(){this.withdrawAmount=(this.withdrawAmount+"").replace(/([0-9]+\.[0-9]{6})[0-9]*/,"$1")-0,this.withdrawOutAmount=this.round(this.accSub(this.withdrawAmount,this.withdrawFee),this.currentCoin.withdrawScale)},valid(){return this.withdrawAdress=this.withdrawAdress||this.inputAddress,""==this.coinType?(this.$Message.error(this.$t("uc.finance.withdraw.symboltip")),!1):""==this.withdrawAdress?(this.$Message.error(this.$t("uc.finance.withdraw.addresstip")),!1):""==this.withdrawAmount||0==this.withdrawAmount||this.withdrawAmount-0<this.currentCoin.minAmount?(this.$Message.error(this.$t("uc.finance.withdraw.numtip2")+this.currentCoin.minAmount),!1):this.withdrawAmount-0<this.withdrawFee?(this.$Message.error(this.$t("uc.finance.withdraw.numtip3")),!1):!(""==this.withdrawFee||0==this.withdrawFee||this.withdrawFee-0>this.currentCoin.maxTxFee||this.withdrawFee-0<this.currentCoin.minTxFee)||(this.$Message.error(this.$t("uc.finance.withdraw.feetip1")+" "+this.currentCoin.minTxFee+" , "+this.$t("uc.finance.withdraw.feetip2")+" "+this.currentCoin.maxTxFee),!1)},apply(){if(this.formInline.code="",this.formInline.fundpwd="",this.valid()){this.modal=!0;let t=setInterval(()=>{this.countdown<=0&&(clearInterval(t),this.sendcodeValue=this.$t("uc.regist.sendcode"),this.codeIsSending=!1)},1e3)}},getMember(){let t=this;this.$http.post(this.host+"/uc/approve/security/setting").then(e=>{var s=e.body;0==s.code?(this.user=s.data,null==s.data.realName||""==s.data.realName?(this.$Notice.error({title:this.$t("common.tip"),desc:this.$t("otc.publishad.submittip1")}),t.$router.push("/my")):0==s.data.phoneVerified?(this.$Notice.error({title:this.$t("common.tip"),desc:this.$t("otc.publishad.submittip2")}),t.$router.push("/my")):0==s.data.fundsVerified&&(this.$Notice.error({title:this.$t("common.tip"),desc:this.$t("otc.publishad.submittip3")}),t.$router.push("/my"))):this.$Message.error(s.message)})}},created(){this.getMember(),this.$http.options.emulateJSON=!1,this.coinType=this.$route.query.unit||"",this.coinTitle=this.$route.query.name||"",this.getAddrList(),console.log(this.$store.getters.member)},computed:{member:function(){return console.log(this.$store.getters.member),this.$store.getters.member}}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page-home"},[s("PageHeader",{attrs:{title:t.$t("common.goWithdraw")+""+t.coinTitle}}),t._v(" "),s("div",{staticClass:"page-content"},[s("div",{staticClass:"page-withdraw"},[s("div",{staticClass:"page-withdraw-address"},[s("span",{staticClass:"page-withdraw-address-link"},[s("router-link",{attrs:{to:"/withdraw/address"}},[t._v(t._s(t.$t("uc.finance.withdraw.addressmanager")))])],1)]),t._v(" "),s("div",{staticClass:"page-withdraw-content"},[s("div",{staticClass:"page-withdraw-content-item"},[s("div",{staticClass:"form-group form-address"},[s("label",{staticClass:"controlAddress describe",attrs:{for:"controlAddress"}},[t._v(t._s(t.$t("uc.finance.withdraw.address")))]),t._v(" "),s("div",{staticClass:"control-input-group"},[s("Select",{ref:"address",staticStyle:{width:"80%"},attrs:{size:"large",placeholder:t.$t("common.pleaseselect")},on:{"on-query-change":t.onAddressChange},model:{value:t.withdrawAdress,callback:function(e){t.withdrawAdress=e},expression:"withdrawAdress"}},t._l(t.currentCoin.addresses,function(e){return s("Option",{key:e.address,attrs:{value:e.address}},[t._v(t._s(e.remark+"("+e.address+")"))])}),1)],1)])]),t._v(" "),s("div",{staticClass:"page-withdraw-content-item"},[s("div",{staticClass:"form-group form-amount"},[s("label",{staticClass:"label-amount describe"},[t._v(t._s(t.$t("uc.finance.withdraw.num"))+"\n              "),s("p",{staticClass:"label-fr"},[s("span",[t._v("【"+t._s(t.$t("uc.finance.withdraw.avabalance"))+"】:"+t._s(t._f("toFloor")(t.currentCoin.balance)))])])]),t._v(" "),s("div",{staticClass:"input-group"},[s("InputNumber",{staticStyle:{width:"80%"},attrs:{placeholder:t.$t("uc.finance.withdraw.numtip1"),size:"large"},on:{"on-change":t.computerAmount,"on-blur":t.computerAmount},model:{value:t.withdrawAmount,callback:function(e){t.withdrawAmount=e},expression:"withdrawAmount"}}),t._v(" "),s("span",{staticClass:"input-group-addon addon-tag uppercase firstt"},[t._v(t._s(t.currentCoin.unit))])],1)])]),t._v(" "),s("div",{staticClass:"page-withdraw-content-item"},[s("div",{staticClass:"form-group form-fee"},[s("label",{staticClass:"label-amount describe"},[s("span",[t._v(t._s(t.$t("uc.finance.withdraw.fee"))+":【From "+t._s(t.currentCoin.minTxFee)+" to "+t._s(t.currentCoin.maxTxFee)+"】")])]),t._v(" "),s("div",{staticClass:"input-group custom-set-fee",staticStyle:{position:"relative"}},[s("InputNumber",{staticStyle:{width:"80%"},attrs:{size:"large"},on:{"on-change":t.computerAmount,"on-blur":t.computerAmount},model:{value:t.withdrawFee,callback:function(e){t.withdrawFee=e},expression:"withdrawFee"}}),t._v(" "),s("span",{staticClass:"input-group-addon addon-tag uppercase"},[t._v(t._s(t.currentCoin.unit))])],1)])]),t._v(" "),s("div",{staticClass:"page-withdraw-content-item"},[s("div",{staticClass:"form-group arriamount"},[s("label",{staticClass:"describe"},[t._v(t._s(t.$t("uc.finance.withdraw.arriamount")))]),t._v(" "),s("div",{staticClass:"input-group",staticStyle:{"margin-top":"14px",position:"relative"}},[s("Input",{staticStyle:{width:"80%"},attrs:{readonly:"",placeholder:t.$t("uc.finance.withdraw.arriamount"),size:"large"},model:{value:t.withdrawOutAmount,callback:function(e){t.withdrawOutAmount=e},expression:"withdrawOutAmount"}}),t._v(" "),s("span",{staticClass:"input-group-addon addon-tag uppercase"},[t._v(t._s(t.currentCoin.unit))])],1)])]),t._v(" "),s("div",{staticClass:"action-foot"},[s("Button",{staticStyle:{height:"40px"},attrs:{id:"withdrawSubmit",long:"",size:"large",type:"warning"},on:{click:t.apply}},[t._v(t._s(t.$t("uc.finance.withdraw.pickup")))])],1),t._v(" "),s("div",{staticClass:"action-content pt10"},[s("div",{staticClass:"action-body"},[s("p",{staticClass:"acb-p1"},[t._v(t._s(t.$t("common.tip")))]),t._v(" "),s("p",{staticClass:"acb-p2"},[t._v("• "+t._s(t.$t("uc.finance.withdraw.msg3"))+": "+t._s(t.currentCoin.minAmount)+" "+t._s(t.coinType)+"."),s("br"),t._v("• "+t._s(t.$t("uc.finance.withdraw.msg5"))),s("br"),t._v("• "+t._s(t.$t("uc.finance.withdraw.msg6"))+" ")])])])])])]),t._v(" "),s("Modal",{staticClass:"withdraw-window",attrs:{width:"90%"},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[s("Form",{ref:"formInline",staticClass:"withdraw-form-inline",attrs:{model:t.formInline,top:""}},[s("FormItem",{attrs:{prop:"code",label:t.$t("uc.safe.emailcode")}},[s("Input",{staticStyle:{width:"70%"},attrs:{type:"text",size:"large",placeholder:t.$t("uc.safe.emailcode")},model:{value:t.formInline.code,callback:function(e){t.$set(t.formInline,"code",e)},expression:"formInline.code"}}),t._v(" "),s("input",{attrs:{id:"sendCode",type:"Button",disabled:t.codeIsSending},domProps:{value:t.sendcodeValue},on:{click:function(e){return t.sendCode()}}})],1),t._v(" "),s("FormItem",{attrs:{label:t.$t("otc.chat.msg7")}},[s("Input",{staticStyle:{width:"70%"},attrs:{type:"password",size:"large",placeholder:t.$t("otc.chat.msg7")},model:{value:t.formInline.fundpwd,callback:function(e){t.$set(t.formInline,"fundpwd",e)},expression:"formInline.fundpwd"}})],1)],1),t._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("span",{staticClass:"footer-cancel",on:{click:t.cancel}},[t._v("Cancel")]),t._v(" "),s("span",{staticClass:"footer-ok",on:{click:t.ok}},[t._v("Confirm")])])],1)],1)},staticRenderFns:[]};var o=s("VU/8")(r,n,!1,function(t){s("2NuD")},"data-v-2409d730",null);e.default=o.exports},"U+pK":function(t,e){},o6sg:function(t,e,s){"use strict";var i={data:()=>({row:{}}),props:{skin:String,rows:Object},created(){this.rows.createTime=this.dateFormat(this.rows.createTime)}},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"expand-detail"},[s("Row",{staticClass:"expand-row",class:t.skin},[s("Col",{attrs:{span:"18"}},[s("p",{staticClass:"expand-key"},[t._v(t._s(t.$t("uc.finance.withdraw.time"))+": ")]),t._v(" "),s("p",{staticClass:"expand-value"},[t._v(t._s(t.rows.createTime))])]),t._v(" "),s("Col",{attrs:{span:"6"}},[s("p",{staticClass:"expand-key"},[t._v(t._s(t.$t("uc.finance.withdraw.fee"))+": ")]),t._v(" "),s("p",{staticClass:"expand-value"},[t._v(t._s(t.rows.fee))])])],1),t._v(" "),s("Row",{staticClass:"expand-row",class:t.skin},[s("Col",{attrs:{span:"24"}},[s("p",{staticClass:"expand-key"},[t._v(t._s(t.$t("uc.finance.withdraw.address"))+": ")]),t._v(" "),s("p",{staticClass:"expand-value"},[t._v(t._s(t.rows.address))])])],1),t._v(" "),s("Row",{staticClass:"expand-row",class:t.skin},[s("Col",{attrs:{span:"24"}},[s("p",{staticClass:"expand-key"},[t._v(t._s(t.$t("uc.finance.withdraw.txid"))+": ")]),t._v(" "),s("p",{staticClass:"expand-value"},[t._v(t._s(t.rows.transactionNumber))])])],1)],1)},staticRenderFns:[]};var r=s("VU/8")(i,a,!1,function(t){s("U+pK")},"data-v-1d8d00b6",null);e.a=r.exports}});