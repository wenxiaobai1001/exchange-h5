webpackJsonp([67],{"9lwO":function(e,t){},PtSd:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={components:{PageHeader:s("JCuE").a},data(){return{time:60,sendMsgDisabled:!1,isNotVerified:!1,formSetValidate:{pw:"",confirmpwd:""},formValidate:{newMPw:"",newMPwConfirm:"",vailCode:""},ruleValidate:{vailCode:[{required:!0,message:this.$t("uc.safe.codetip"),trigger:"blur"}],newMPw:[{required:!0,type:"string",min:6,message:this.$t("uc.safe.pwdmsg1"),trigger:"blur"},{validator:(e,t,s)=>{""===t?s(new Error(this.$t("uc.safe.pwdmsg1"))):/([a-zA-Z0-9]){6,18}/.test(t)?s():s(new Error(this.$t("uc.safe.pwdmsg1")))},trigger:"blur"}],newMPwConfirm:[{required:!0,type:"string",min:6,message:this.$t("uc.safe.pwdmsg2"),trigger:"blur"},{validator:(e,t,s)=>{""===t?s(new Error(this.$t("uc.safe.pwdmsg2"))):/([a-zA-Z0-9]){6,18}/.test(t)?t!==this.formValidate.newMPw?s(new Error(this.$t("uc.safe.pwdmsg2"))):s():s(new Error(this.$t("uc.safe.pwdmsg2")))},trigger:"blur"}]}}},watch:{},created:function(){},computed:{isLogin:function(){return this.$store.getters.isLogin}},methods:{send(e){let t=this;t.sendMsgDisabled=!0;let s=window.setInterval(function(){t.time--<=0&&(t.time=60,t.sendMsgDisabled=!1,window.clearInterval(s))},1e3);this.$http.post(this.host+"/uc/mobile/transaction/code").then(e=>{var s=e.body;0==s.code?t.$Message.success(s.message):this.$Message.error(s.message)})},handleReset(e){this.$refs[e].resetFields()},handleSubmit(e){this.$refs[e].validate(e=>{if(e){let e={};e.newPassword=this.formValidate.newMPw,e.code=this.formValidate.vailCode,this.$http.post(this.host+"/uc/approve/reset/transaction/password",e).then(e=>{var t=e.body;0==t.code?(this.$Message.success(this.$t("uc.safe.save_success")),this.handleReset("formValidate"),this.$router.push("/my")):this.$Message.error(t.message)})}else this.$Message.error(this.$t("uc.safe.save_failure"))})}}},r={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page-home"},[s("PageHeader",{attrs:{isShowBack:!0,title:e.$t("uc.safe.edit")}}),e._v(" "),s("div",{staticClass:"page-content"},[s("div",{staticClass:"page-fund"},[s("Form",{ref:"formValidate",attrs:{model:e.formValidate,rules:e.ruleValidate}},[s("FormItem",{attrs:{label:e.$t("uc.safe.newfundpwd"),prop:"newMPw"}},[s("Input",{attrs:{size:"large",type:"password"},model:{value:e.formValidate.newMPw,callback:function(t){e.$set(e.formValidate,"newMPw",t)},expression:"formValidate.newMPw"}})],1),e._v(" "),s("FormItem",{attrs:{label:e.$t("uc.safe.confirmnewpwd"),prop:"newMPwConfirm"}},[s("Input",{attrs:{size:"large",type:"password"},model:{value:e.formValidate.newMPwConfirm,callback:function(t){e.$set(e.formValidate,"newMPwConfirm",t)},expression:"formValidate.newMPwConfirm"}})],1),e._v(" "),s("FormItem",{attrs:{label:e.$t("uc.safe.phonecode"),prop:"vailCode"}},[s("Input",{staticClass:"send-sms-custom",attrs:{size:"large"},model:{value:e.formValidate.vailCode,callback:function(t){e.$set(e.formValidate,"vailCode",t)},expression:"formValidate.vailCode"}},[s("div",{staticClass:"timebox",attrs:{slot:"append"},slot:"append"},[s("Button",{attrs:{disabled:e.sendMsgDisabled},on:{click:function(t){return e.send(5)}}},[e.sendMsgDisabled?s("span",[e._v(e._s(e.time+e.$t("uc.safe.second")))]):e._e(),e._v(" "),e.sendMsgDisabled?e._e():s("span",[e._v(e._s(e.$t("uc.safe.clickget")))])])],1)])],1),e._v(" "),s("FormItem",[s("Button",{attrs:{type:"warning"},on:{click:function(t){return e.handleSubmit("formValidate")}}},[e._v(e._s(e.$t("uc.safe.save")))])],1)],1)],1)])],1)},staticRenderFns:[]};var i=s("VU/8")(a,r,!1,function(e){s("9lwO")},"data-v-4f809916",null);t.default=i.exports}});