webpackJsonp([24],{"3F3T":function(t,e){},GbIF:function(t,e,a){"use strict";var s={data:()=>({row:{}}),props:{skin:String,rows:Object},created(){this.rows.usdtTotalProfitAndLoss=this.toFloor(this.rows.usdtTotalProfitAndLoss.toFixed(4)||0),this.rows.toReleased=(this.rows.usdtBuyPrincipalAmount+this.rows.usdtSellPrincipalAmount).toFixed(4),this.rows.usdtFrozenBalance=this.toFloor(this.rows.usdtFrozenBalance.toFixed(4)||0)}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"expand-detail"},[a("Row",{staticClass:"expand-row",class:t.skin},[a("Col",{attrs:{span:"8"}},[a("span",{staticClass:"expand-key"},[t._v(t._s(t.$t("uc.finance.swap.profitandloss"))+": ")]),a("br"),t._v(" "),a("span",{staticClass:"expand-value"},[t._v(t._s(t.rows.usdtTotalProfitAndLoss))])]),t._v(" "),a("Col",{attrs:{span:"8"}},[a("span",{staticClass:"expand-key"},[t._v(t._s(t.$t("uc.finance.swap.usebalance"))+": ")]),a("br"),t._v(" "),a("span",{staticClass:"expand-value"},[t._v(t._s(t.rows.toReleased))])]),t._v(" "),a("Col",{attrs:{span:"8"}},[a("span",{staticClass:"expand-key"},[t._v(t._s(t.$t("uc.finance.swap.frozenbalance"))+": ")]),a("br"),t._v(" "),a("span",{staticClass:"expand-value"},[t._v(t._s(t.rows.usdtFrozenBalance))])])],1)],1)},staticRenderFns:[]};var i=a("VU/8")(s,n,!1,function(t){a("TgxK")},"data-v-587793b9",null);e.a=i.exports},TgxK:function(t,e){},"U/pi":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("JCuE"),n=a("GbIF"),i={components:{PageHeader:s.a,expandRow:n.a},data(){return{loginmsg:this.$t("common.logintip"),loading:!0,ordKeyword:"",tableMoney:[],tableMoneyShow:[],searchKey:"",transferModal:!1,transferDirection:1,walletOne:null,walletTwo:null,transferAmount:0,predictAmount:0,walletTwoList:[],walletOneList:[this.$t("uc.finance.swap.currencyaccount")+"(USDT)"],assetsWallet:{id:0,balance:0},swapWallet:{id:0,avaBalance:0}}},methods:{seachInputChange(){this.tableMoneyShow=this.tableMoney.filter(t=>0==t.symbol.indexOf(this.searchKey))},getMoney(){this.$http.post(this.host+"/swap/wallet/list").then(t=>{var e=t.body;if(0==e.code){this.tableMoney=e.data;for(let t=0;t<this.tableMoney.length;t++)this.tableMoney[t].symbol=this.tableMoney[t].contractCoin.symbol,this.tableMoney[t].usdtTotalProfitAndLoss<0&&"CROSSED"==this.tableMoney[t].usdtPattern?this.tableMoney[t].avaBalance=this.tableMoney[t].usdtBalance+usdtTotalProfitAndLoss:this.tableMoney[t].avaBalance=this.tableMoney[t].usdtBalance,this.swapWallet.id==this.tableMoney[t].id&&(this.swapWallet=this.tableMoney[t]);this.loading=!1,this.tableMoneyShow=this.tableMoney}else this.$Message.error(this.loginmsg)})},getAssets(){this.$http.post(this.host+"/uc/asset/wallet/usdt").then(t=>{var e=t.body;0==e.code?this.assetsWallet=e.data:this.$Message.error(this.loginmsg)})},onTransferClick(){this.transferModal=!0},changeTo(t){this.transferDirection=t,this.transferAmount=0},confirmOk(){if(0==this.assetsWallet.id||0==this.swapWallet.id)return void this.$Message.error(this.$t("uc.finance.swap.pleaseselectwallet"));if(this.transferAmount<=0||""==this.transferAmount||void 0==this.transferAmount)return void this.$Message.error(this.$t("uc.finance.swap.pleaseinputamount"));let t={unit:"USDT",from:1==this.transferDirection?0:1,to:1==this.transferDirection?1:0,fromWalletId:1==this.transferDirection?this.assetsWallet.id:this.swapWallet.id,toWalletId:1==this.transferDirection?this.swapWallet.id:this.assetsWallet.id,amount:this.transferAmount};this.$http.post(this.host+"/swap/wallet/trans",t).then(t=>{var e=t.body;0==e.code?(console.log(e.data),this.getMoney(),this.getAssets(),this.onChangeTwo()):this.$Message.error(e.message)}),this.transferModal=!1},onChangeTwo(){console.log(this.walletTwo);for(let t=0;t<this.tableMoney.length;t++)this.tableMoney[t].id==this.walletTwo&&(this.swapWallet=this.tableMoney[t])},onTransAll(){1==this.transferDirection?this.transferAmount=this.assetsWallet.balance:this.transferAmount=this.swapWallet.avaBalance}},created(){this.getMoney(),this.getAssets()},filters:{fixed2:function(t){return t.toFixed(2)}},computed:{totalUSDT(){let t=0;for(let e=0;e<this.tableMoney.length;e++)t+=this.tableMoney[e].usdtBalance+this.tableMoney[e].usdtFrozenBalance+this.tableMoney[e].usdtBuyPrincipalAmount+this.tableMoney[e].usdtSellPrincipalAmount+this.tableMoney[e].usdtTotalProfitAndLoss;return t.toFixed(2)},totalCny(){let t=0;for(let e=0;e<this.tableMoney.length;e++){t+=(this.tableMoney[e].usdtBalance+this.tableMoney[e].usdtFrozenBalance+this.tableMoney[e].usdtBuyPrincipalAmount+this.tableMoney[e].usdtSellPrincipalAmount+this.tableMoney[e].usdtTotalProfitAndLoss)*this.tableMoney[e].contractCoin.usdtRate}return t.toFixed(2)},tableColumnsMoney(){let t=this,e=[];return e.push({type:"expand",width:30,height:30,render:(t,e)=>t(n.a,{props:{skin:e.row.skin,rows:e.row}})}),e.push({title:this.$t("uc.finance.swap.swaptype"),align:"center",render:(t,e)=>t("span",{attrs:{title:e.row.symbol}},e.row.symbol)}),e.push({title:this.$t("uc.finance.swap.swapassets"),key:"balance",align:"center",render:(t,e)=>t("span",{},(e.row.usdtBalance+e.row.usdtFrozenBalance+e.row.usdtBuyPrincipalAmount+e.row.usdtSellPrincipalAmount+e.row.usdtTotalProfitAndLoss).toFixed(4))}),e.push({title:this.$t("uc.finance.swap.avabalance"),key:"usdtBalance",align:"center",render:(e,a)=>e("span",{attrs:{title:a.row.usdtBalance}},t.toFloor(a.row.usdtBalance.toFixed(4)||"0"))}),e}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-home"},[a("PageHeader",{attrs:{isShowBack:!0,title:t.$t("uc.finance.swapassets")}}),t._v(" "),a("div",{staticClass:"page-content"},[a("div",{staticClass:"page-swapmoney"},[a("div",{staticClass:"page-swapmoney-title"},[a("div",{staticClass:"page-swapmoney-title-assets"},[a("span",{staticStyle:{"font-size":"14px",color:"#828ea1"}},[t._v(t._s(t.$t("uc.finance.swap.totalassets")))]),t._v(" "),a("span",{staticStyle:{"font-size":"18px",color:"#4f565e"}},[t._v("$"+t._s(t.totalUSDT))])]),t._v(" "),a("div",{staticClass:"page-swapmoney-title-btn"},[a("Button",{attrs:{type:"warning"},on:{click:t.onTransferClick}},[t._v(t._s(t.$t("uc.finance.swap.transfor")))])],1)]),t._v(" "),a("Table",{attrs:{"no-data-text":t.$t("common.nodata"),columns:t.tableColumnsMoney,data:t.tableMoneyShow,loading:t.loading,"disabled-hover":!0}})],1)]),t._v(" "),a("Modal",{attrs:{title:t.$t("uc.finance.swap.transfor")+" - USDT"},model:{value:t.transferModal,callback:function(e){t.transferModal=e},expression:"transferModal"}},[a("div",{staticStyle:{width:"100%","min-height":"32px","margin-top":"15px"}},[a("div",{staticStyle:{width:"45%",display:"inline-flex",height:"32px","line-height":"32px",float:"left"}},[a("Select",{attrs:{placeholder:t.$t("uc.finance.swap.currencyaccount")+"(USDT)"},model:{value:t.walletOne,callback:function(e){t.walletOne=e},expression:"walletOne"}},t._l(t.walletOneList,function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])}),1)],1),t._v(" "),1==t.transferDirection?a("div",{staticStyle:{width:"10%",float:"left","text-align":"center","font-size":"18px",height:"30px","line-height":"30px","font-weight":"bold"},on:{click:function(e){return t.changeTo(2)}}},[a("Tooltip",{attrs:{content:t.$t("uc.finance.swap.clickchange")}},[a("Icon",{staticStyle:{"font-weight":"bold",color:"#19be6b"},attrs:{type:"md-arrow-forward"}})],1)],1):t._e(),t._v(" "),2==t.transferDirection?a("div",{staticStyle:{width:"10%",float:"left","text-align":"center","font-size":"18px",height:"30px","line-height":"30px","font-weight":"bold"},on:{click:function(e){return t.changeTo(1)}}},[a("Tooltip",{attrs:{content:t.$t("uc.finance.swap.clickchange")}},[a("Icon",{staticStyle:{"font-weight":"bold",color:"#19be6b"},attrs:{type:"md-arrow-back"}})],1)],1):t._e(),t._v(" "),a("div",{staticStyle:{width:"45%",display:"inline-flex",height:"32px","line-height":"32px",float:"right"}},[a("Select",{attrs:{placeholder:t.$t("uc.finance.swap.swapaccount")},on:{"on-change":t.onChangeTwo},model:{value:t.walletTwo,callback:function(e){t.walletTwo=e},expression:"walletTwo"}},t._l(t.tableMoney,function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.symbol)+t._s(t.$t("uc.finance.swap.swap")))])}),1)],1)]),t._v(" "),a("div",{staticStyle:{width:"100%","min-height":"20px","margin-top":"0px","font-size":"10px",color:"rgb(97, 104, 138)"}},[a("div",{staticStyle:{width:"50%",height:"20px","line-height":"20px",float:"left","text-align":"left"}},[t._v("\n        "+t._s(t.$t("uc.finance.swap.avaamount"))+"："+t._s(t._f("fixed2")(t.assetsWallet.balance))+"\n      ")]),t._v(" "),a("div",{staticStyle:{width:"50%",height:"20px","line-height":"20px",float:"right","text-align":"right"}},[t._v("\n        "+t._s(t.$t("uc.finance.swap.avaamount"))+"："+t._s(t._f("fixed2")(t.swapWallet.avaBalance))+"\n      ")])]),t._v(" "),a("p",{staticStyle:{"margin-top":"15px"}},[t._v(t._s(t.$t("uc.finance.swap.inputtransferamount"))+":\n      "),a("InputNumber",{staticStyle:{width:"100%"},attrs:{type:"text",placeholder:t.$t("uc.finance.swap.inputtransferamount")},model:{value:t.transferAmount,callback:function(e){t.transferAmount=e},expression:"transferAmount"}})],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{size:"large"},on:{click:function(e){t.transferModal=!1}}},[t._v(t._s(t.$t("common.close")))]),t._v(" "),a("Button",{attrs:{type:"primary",size:"large"},on:{click:t.confirmOk}},[t._v(t._s(t.$t("uc.finance.swap.oktransfer")))])],1)])],1)},staticRenderFns:[]};var l=a("VU/8")(i,o,!1,function(t){a("3F3T")},"data-v-35a984c9",null);e.default=l.exports}});